#summary Gridworks Developer's Guide

== How to build Gridworks from source ==

The Gridworks build system requires you to have a unix shell. On Macosx and Linux, just use bash or sh. On windows, you have to install [http://www.cygwin.com/ Cygwin] and use that to run bash.

To see what functions are supported by the Gridwork's build system, type

{{{
   ./gridworks -h
}}}

to get a list of them.

== IDE Support ==

Gridworks' source comes with [http://www.eclipse.org/ eclipse] project files. So, the simplest way to create a project in Eclipse with Gridworks' source is to just follow the instructions on how to [http://help.eclipse.org/galileo/index.jsp?topic=/org.eclipse.platform.doc.user/tasks/tasks-importproject.htm import an existing project].

== Building ==

{{{
  ./gridworks build
}}}

== Running ==

{{{
  ./gridworks
}}}

== Testing == 

Since Gridworks is composed of two parts, a server and a in-browser UI, the testing system reflects that:

  * on the server side, it's powered by JUnit and the unit tests are written in Java
  * on the client side, it's powered by Windmill and the unit tests are written in Javascript

To run the testing framework, simply type

{{{
  ./gridworks test
}}}

The above command requires you to have [http://www.python.org/ python] and [http://curl.haxx.se/ curl] installed on your machine and available in the path (you might already do, even if you don't know about it so just try it once and see what errors you get).

if you want to run only the server side portion of the tests run

{{{
  ./gridworks server_test
}}}

or, if you want to run only the client side portion of the tests run

{{{
  ./gridworks ui_test
}}}

==== Testing on Windows ====

In addition to Python, the [http://sourceforge.net/projects/pywin32/ Python for Windows extensions] are required to run Windmill on Windows. Without it Windmills fails to respond and/or gives an `ImportError?: No module named win32api`

Curl is also required, but you can install it when you install Cygwin (there is a module for it).

== Distributions ==

The Gridworks build system automates the creation of the installation packages for the different operating systems. They are currently optimized to run on Macosx which is the only platform capable of creating the packages for all the three OS that we support.

To build the distributions type

{{{
  ./gridworks dist <version>
}}}

where 'version' is the release version (for example, 1.3b3).

== Troubleshooting ==

=== Windows ===

On Windows, Gridworks requires [http://www.cygwin.com/ Cygwin] and [http://java.sun.com/javase/downloads/index.jsp Java JDK] to be installed. Once these are installed you then need to [http://confluence.atlassian.com/display/DOC/Setting+the+JAVA_HOME+Variable+in+Windows Set the `JAVA_HOME` environment variable]. You may need to reboot your machine after setting this environment variable.

Open the Cygwin bash shell. Navigate to your installation directory, then run gridworks

{{{
   # cd 'C:\\path_to_installation_directory'
   # ./gridworks
}}}

If you receive a message `Could not find the main class: com.metaweb.gridworks.Gridworks. Program will exit.` this means that the `JAVA_HOME` variable is likely not set correctly.

=== Linux ===

==== Installing Java ====

If your linux distro doesn't have java installed and you have support for `apt-get` (say, Debian or Ubuntu) you can read [http://www.cyberciti.biz/faq/howto-ubuntu-linux-install-configure-jdk-jre/ this helpful page]. Make sure that JAVA_HOME points to your JDK (java developer kit), the one that contains the compiler, and not the JRE (java runtime environment) which is what you need to actually run a java program.

==== Warning: sun.misc.Signal ====

If you get warnings while compiling Gridworks that look like this

{{{
    [javac] /.../SignalHandlerWrapper.java:xx: warning: sun.misc.Signal is Sun proprietary API and may be removed in a future release
}}}

go ahead and ignore them.  Unfortunately, there is no way around this and no way to turn them off (see [http://1060.org/blogxter/entry?publicid=F1BD9808599F72B829BE11499203685A here])